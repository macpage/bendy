(()=>{console.log("sldflkksd");let e=!1,t=[];t[0]=new function(e,t,n,a,o,r,d,s,l,i,c,m,u,p,g,_){this.id=0,this.first="Mac",this.last="Sophani",this.age=23,this.emp_type="Full Time",this.besides="",this.time_available=40,this.time_to_work=0,this.time_worked=0,this.time_remaining=40,this.job_start="01.08.2023",this.job_end="--.--.----",this.days_worked=0,this.hours_sum=0,this.position="",this.overtime=0}(0,"Mac","Sophani",23,"Full Time","",40,0,0,40,"01.08.2023","--.--.----",0,0,"",0),console.log(t[0].first),document.querySelector("#submit").addEventListener("click",(()=>{!function(){const e=document.querySelector("body");e.innerHTML="";const n=document.createElement("div");n.classList.add("header"),e.append(n);const a=document.createElement("button");a.setAttribute("id","logout_button"),a.innerHTML="logout",n.append(a);const o=document.createElement("div");o.classList.add("background"),e.append(o);const r=document.createElement("div");r.classList.add("employee_list_background"),o.append(r);const d=document.createElement("input");d.setAttribute("id","employee_searchbar"),d.type="text",d.placeholder="search employee",r.append(d),t.forEach((e=>{const t=document.createElement("div");t.classList.add("employee_box"),t.setAttribute("draggable","true"),t.setAttribute("id","employee_id_"+e.id),r.append(t);const n=document.createElement("img");n.classList.add("employee_box_picture"),t.append(n);const a=document.createElement("p");a.classList.add("employee_box_text"),a.innerHTML=e.first+" "+e.last,t.append(a);const o=document.createElement("p");o.classList.add("employee_box_position"),o.innerHTML=e.position,t.append(o);const d=document.createElement("p");d.classList.add("employee_box_hours"),d.innerHTML=e.time_to_work+"/"+e.time_remaining,t.append(d);const s=document.createElement("div");s.classList.add("employee_box_status"),t.append(s)}));const s=document.createElement("div");s.classList.add("nav_background"),o.append(s);const l=document.createElement("h1");l.classList.add("nav_text"),s.append(l);const i=document.createElement("button");i.classList.add("old_date_button"),i.innerHTML="old",s.append(i);const c=document.createElement("button");c.classList.add("new_date_button"),c.innerHTML="new",s.append(c);let m,u,p,g=new Date;0==g.getDay()?(u=new Date(g.setDate(g.getDate()-g.getDay()+0)),m=new Date(g.setDate(g.getDate()-g.getDay()-6)),p=new Date(g.setDate(g.getDate()-g.getDay()+2)),console.log("first day: "+m.getDate()+"."+m.getMonth()+"."+m.getFullYear()),l.innerHTML=m.getDate()+"."+parseInt(m.getMonth()+1)+"."+m.getFullYear()+" - "+u.getDate()+"."+parseInt(u.getMonth()+1)+"."+u.getFullYear()):(u=new Date(g.setDate(g.getDate()-g.getDay()+7)),m=new Date(g.setDate(g.getDate()-g.getDay()-6)),l.innerHTML=m.getDate()+"."+parseInt(m.getMonth()+1)+"."+m.getFullYear()+" - "+u.getDate()+"."+parseInt(u.getMonth()+1)+"."+u.getFullYear(),console.log("last day: "+u));const _=document.createElement("div");_.classList.add("work_field_background"),o.append(_);for(let e=0;e<7;e++){const e=document.createElement("div");e.classList.add("day_field"),_.append(e)}_.children[0].innerHTML="Mon "+m.getDate(),_.children[1].innerHTML="Tue "+new Date(g.setDate(g.getDate()-g.getDay()+2)).getDate(),_.children[2].innerHTML="Wed "+new Date(g.setDate(g.getDate()-g.getDay()+3)).getDate(),_.children[3].innerHTML="Thu "+new Date(g.setDate(g.getDate()-g.getDay()+4)).getDate(),_.children[4].innerHTML="Fri "+new Date(g.setDate(g.getDate()-g.getDay()+5)).getDate(),_.children[5].innerHTML="Sat "+new Date(g.setDate(g.getDate()-g.getDay()+6)).getDate(),_.children[6].innerHTML="Sun "+new Date(g.setDate(g.getDate()-g.getDay()+7)).getDate(),document.querySelectorAll(".day_field").forEach((e=>{const t=document.createElement("p");t.classList.add("day_hours"),t.innerHTML="0/16 hrs",e.append(t)}))}(),e=!0,function(){let e=document.querySelectorAll(".employee_box");console.log("bro"),e.forEach((e=>{e.addEventListener("dragstart",(e=>{e.dataTransfer.setData("text/plain",e.target.id),e.currentTarget.style.backgroundColor="yellow"}))})),e.forEach((e=>{e.addEventListener("dragend",(e=>{e.dataTransfer.setData("text/plain",e.target.id),e.currentTarget.style.backgroundColor="white"}))}))}(),document.querySelector(".day_field").addEventListener("dragover",(e=>{e.preventDefault()})),document.querySelector(".day_field").addEventListener("drop",(e=>{const n=e.dataTransfer.getData("text"),a=document.getElementById(n),o=a.cloneNode(!0);document.querySelector(".day_field").append(o),a.style.backgroundColor="white",o.style.backgroundColor="white",o.setAttribute("draggable","false"),e.dataTransfer.clearData(),o.addEventListener("click",(e=>{let n;n=e.target!==e.currentTarget?e.target.parentElement.id.slice(-1):e.target.id.slice(-1),function(e){const n=document.createElement("div");n.classList.add("modal_background"),n.style.display="flex",document.querySelector("body").append(n);const a=document.createElement("div");a.classList.add("modal_overlay"),n.append(a);let o=document.createElement("p");o.classList.add("modal_employee_name"),o.innerHTML=t[e].first+" "+t[e].last,a.append(o);let r=document.createElement("p");r.innerHTML=t[e].time_remaining,a.append(r);const d=document.createElement("select");a.append(d),["Cash","Bar","Office"].forEach((e=>{let t=document.createElement("option");t.value=e,t.text=e,d.append(t)}));const s=document.createElement("p");s.innerHTML="Hours to work: ",a.append(s);let l=t[e].time_remaining,i=0,c=0;const m=e=>{i=l-e.target.value,r.innerHTML=i,(e.target.value<=0||0===e.target.value.length)&&(r.innerHTML=l,i=l),s.innerHTML="Hours to work: "+e.target.value,c=e.target.value},u=document.createElement("input");u.classList.add("modal_employee_hour"),u.type="number",a.append(u),u.addEventListener("input",m),u.addEventListener("propertychange",m);const p=document.createElement("button");p.classList.add("modal_cancel_btn"),p.innerHTML="Cancel",p.addEventListener("click",(e=>{n.remove()})),a.append(p);const g=document.createElement("button");g.classList.add("modal_confirm_btn"),g.innerHTML="Confirm",g.addEventListener("click",(a=>{const o=document.querySelector(".employee_list_background").querySelector("#employee_id_"+e);console.log("hours to work: "+t[e].time_to_work),t[e].time_remaining=i;let r=Number(t[e].time_to_work);r+=Number(c),t[e].position=d.value,t[e].time_to_work=r,o.querySelector(".employee_box_hours").innerHTML=r+"/"+t[e].time_available,console.log(t[e]),console.log("hours to work: "+t[e].time_to_work),console.log("hours remaining: "+t[e].time_remaining),n.remove()})),a.append(g)}(n)}))}))}))})();