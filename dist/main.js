(()=>{console.log("sldflkksd");let e=!1,t=[];t[0]=new function(e,t,n,a,o,r,d,l,s,i,c,m,u,p,g,_){this.id=0,this.first="Mac",this.last="Sophani",this.age=23,this.emp_type="Full Time",this.besides="",this.time_available=40,this.time_to_work=0,this.time_worked=0,this.time_remaining=40,this.job_start="01.08.2023",this.job_end="--.--.----",this.days_worked=0,this.hours_sum=0,this.position="",this.overtime=0}(0,"Mac","Sophani",23,"Full Time","",40,0,0,40,"01.08.2023","--.--.----",0,0,"",0),console.log(t[0].first),document.querySelector("#submit").addEventListener("click",(()=>{!function(){const e=document.querySelector("body");e.innerHTML="";const n=document.createElement("div");n.classList.add("header"),e.append(n);const a=document.createElement("button");a.setAttribute("id","logout_button"),a.innerHTML="logout",n.append(a);const o=document.createElement("div");o.classList.add("background"),e.append(o);const r=document.createElement("div");r.classList.add("employee_list_background"),o.append(r);const d=document.createElement("input");d.setAttribute("id","employee_searchbar"),d.type="text",d.placeholder="search employee",r.append(d),t.forEach((e=>{const t=document.createElement("div");t.classList.add("employee_box"),t.setAttribute("draggable","true"),t.setAttribute("id","employee_id_"+e.id),r.append(t);const n=document.createElement("img");n.classList.add("employee_box_picture"),t.append(n);const a=document.createElement("p");a.classList.add("employee_box_text"),a.innerHTML=e.first+" "+e.last,t.append(a);const o=document.createElement("p");o.classList.add("employee_box_position"),o.innerHTML=e.position,t.append(o);const d=document.createElement("p");d.classList.add("employee_box_hours"),d.innerHTML=e.time_to_work+"/"+e.time_remaining,t.append(d);const l=document.createElement("div");l.classList.add("employee_box_status"),t.append(l)}));const l=document.createElement("div");l.classList.add("nav_background"),o.append(l);const s=document.createElement("h1");s.classList.add("nav_text"),l.append(s);const i=document.createElement("button");i.classList.add("old_date_button"),i.innerHTML="old",l.append(i);const c=document.createElement("button");c.classList.add("new_date_button"),c.innerHTML="new",l.append(c);let m,u,p,g=new Date;0==g.getDay()?(u=new Date(g.setDate(g.getDate()-g.getDay()+0)),m=new Date(g.setDate(g.getDate()-g.getDay()-6)),p=new Date(g.setDate(g.getDate()-g.getDay()+2)),console.log("first day: "+m.getDate()+"."+m.getMonth()+"."+m.getFullYear()),s.innerHTML=m.getDate()+"."+parseInt(m.getMonth()+1)+"."+m.getFullYear()+" - "+u.getDate()+"."+parseInt(u.getMonth()+1)+"."+u.getFullYear()):(u=new Date(g.setDate(g.getDate()-g.getDay()+7)),m=new Date(g.setDate(g.getDate()-g.getDay()-6)),s.innerHTML=m.getDate()+"."+parseInt(m.getMonth()+1)+"."+m.getFullYear()+" - "+u.getDate()+"."+parseInt(u.getMonth()+1)+"."+u.getFullYear(),console.log("last day: "+u));const _=document.createElement("div");_.classList.add("work_field_background"),o.append(_);for(let e=0;e<7;e++){const e=document.createElement("div");e.classList.add("day_field"),_.append(e)}_.children[0].innerHTML="Mon "+m.getDate(),_.children[1].innerHTML="Tue "+new Date(g.setDate(g.getDate()-g.getDay()+2)).getDate(),_.children[2].innerHTML="Wed "+new Date(g.setDate(g.getDate()-g.getDay()+3)).getDate(),_.children[3].innerHTML="Thu "+new Date(g.setDate(g.getDate()-g.getDay()+4)).getDate(),_.children[4].innerHTML="Fri "+new Date(g.setDate(g.getDate()-g.getDay()+5)).getDate(),_.children[5].innerHTML="Sat "+new Date(g.setDate(g.getDate()-g.getDay()+6)).getDate(),_.children[6].innerHTML="Sun "+new Date(g.setDate(g.getDate()-g.getDay()+7)).getDate(),document.querySelectorAll(".day_field").forEach((e=>{const t=document.createElement("p");t.classList.add("day_hours"),t.innerHTML="0/16 hrs",e.append(t)}))}(),e=!0,function(){let e=document.querySelectorAll(".employee_box");console.log("bro"),e.forEach((e=>{e.addEventListener("dragstart",(e=>{e.dataTransfer.setData("text/plain",e.target.id),e.currentTarget.style.backgroundColor="yellow"}))})),e.forEach((e=>{e.addEventListener("dragend",(e=>{e.dataTransfer.setData("text/plain",e.target.id),e.currentTarget.style.backgroundColor="white"}))}))}(),document.querySelector(".day_field").addEventListener("dragover",(e=>{e.preventDefault()})),document.querySelector(".day_field").addEventListener("drop",(e=>{const n=e.dataTransfer.getData("text"),a=document.getElementById(n),o=a.cloneNode(!0);document.querySelector(".day_field").append(o),a.style.backgroundColor="white",o.style.backgroundColor="white",o.setAttribute("draggable","false"),e.dataTransfer.clearData(),o.querySelector(".employee_box_hours").innerHTML="0/40",o.addEventListener("click",(e=>{let n,a;e.target!==e.currentTarget?(n=e.target.parentElement.id.slice(-1),a=e.target.parentElement):(n=e.target.id.slice(-1),a=e.target),function(e,n){const a=document.createElement("div");a.classList.add("modal_background"),a.style.display="flex",document.querySelector("body").append(a);const o=document.createElement("div");o.classList.add("modal_overlay"),a.append(o);let r=document.createElement("p");r.classList.add("modal_employee_name"),r.innerHTML=t[e].first+" "+t[e].last,o.append(r);let d=document.createElement("p");d.innerHTML=t[e].time_remaining,o.append(d);const l=document.createElement("select");o.append(l),["Cash","Bar","Office"].forEach((e=>{let t=document.createElement("option");t.value=e,t.text=e,l.append(t)}));const s=document.createElement("p");s.innerHTML="Hours to work: ",o.append(s);let i=t[e].time_remaining,c=0,m=0;const u=e=>{c=i-e.target.value,d.innerHTML=c,(e.target.value<=0||0===e.target.value.length)&&(d.innerHTML=i,c=i),s.innerHTML="Hours to work: "+e.target.value,m=e.target.value},p=document.createElement("input");p.classList.add("modal_employee_hour"),p.type="number",o.append(p),p.addEventListener("input",u),p.addEventListener("propertychange",u);const g=document.createElement("button");g.classList.add("modal_cancel_btn"),g.innerHTML="Cancel",g.addEventListener("click",(e=>{a.remove()})),o.append(g);const _=document.createElement("button");_.classList.add("modal_confirm_btn"),_.innerHTML="Confirm",_.addEventListener("click",(o=>{const r=document.querySelector(".employee_list_background").querySelector("#employee_id_"+e);console.log("hours to work: "+t[e].time_to_work),t[e].time_remaining=c;let d=Number(t[e].time_to_work);d+=Number(m),t[e].position=l.value,t[e].time_to_work=d,r.querySelector(".employee_box_hours").innerHTML=d+"/"+t[e].time_available,console.log(t[e]),console.log("hours to work: "+t[e].time_to_work),console.log("hours remaining: "+t[e].time_remaining),n.querySelector(".employee_box_hours").innerHTML=Number(m)+"/40",console.log("here: "+n.querySelector(".employee_box_hours").innerHTML),a.remove()})),o.append(_)}(n,a)}))}))}))})();